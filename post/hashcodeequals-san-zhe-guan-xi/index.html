<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="shortcut icon"href="https://anthony-dong.github.io/favicon.ico"type="image/x-icon"/><meta name="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="apple-mobile-web-app-capable"content="yes"/><meta name="apple-mobile-web-app-status-bar-style"content="black"/><meta name="format-detection"content="telephone=no"/><meta name="renderer"content="webkit"/><meta name="description"content="Anthony-Dongçš„ä¸ªäººåšå®¢"/><meta charset="UTF-8"/><title>== , hashcode() , equals() , intern()å››è€…ä¹‹é—´çš„å…³ç³» | Anthony-Dong</title><link href="https://anthony-dong.github.io/styles/main.css"type="text/css"rel="stylesheet"/><script src="https://anthony-dong.github.io/media/js/magnify.min.js"></script>
	<link rel="canonical" href="https://anthony-dong.github.io/post/hashcodeequals-san-zhe-guan-xi/" />
</head>
<body>
	<div class="progress"></div><style>.progress{background:linear-gradient(to right,#87ceeb var(--scroll),transparent 0);background-repeat:no-repeat;position:fixed;width:100%;height:4px;z-index:1}</style><div class="darkmode-background"></div><div class="darkmode-layer"></div>
<noscript><p class="warn" >æœ¬é¡µé¢éœ€è¦æµè§ˆå™¨æ”¯æŒï¼ˆå¯ç”¨ï¼‰JavaScript</p></noscript><div class="header"><div class="logo_title"><div class="title animated fadeInDown"><a href="https://anthony-dong.github.io"><img alt="logo" style="display:inline-block;" src="https://anthony-dong.github.io/images/avatar.png"/></a><h1 title="Anthony-Dong" class="weaklink shift"><a  href="/">Anthony-Dong</a></h1>

<div class="navbar weaklink">
<div class="normal_nav">
<div class="bitcron_nav_container"><div class="bitcron_nav"><div class="bitcron_nav"><div style="display:flex;justify-content:center;"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/link" class="selected active current nav__item" >å‹é“¾</a></li></ul></nav>
<div style="float:right;margin-top:1em"><form id="gridea-search-form" data-update="1578893743252" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="Search..."></form></div>
<div style="margin-left:0.5em;margin-top:1.2em"><input id="switch_default" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
<div class="clear clear_nav_inline_end"></div></div></div><div class="clear clear_nav_end"></div></div></div><div class="hamberger" href="javascript:void(0)" onclick="btn_toggle();"><i class="iconfont icon-category"></i></div></div></div></div>
<div id="hn" class="no-js hidden_nav animated fadeInDown"><div class="bitcron_nav_container"><div class="bitcron_nav"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/link" class="selected active current nav__item" >å‹é“¾</a></li></ul><div class="clear clear_nav_inline_end"></div></nav></div><div class="clear clear_nav_end"></div></div>
<div style="display:flex;justify-content:center;inline-block;text-align:center;margin-top:7%"><div><form id="gridea-search-form-1" data-update="1614224679162" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q"  placeholder="Search..." /></form></div><div style="margin-left:0.5em"><input id="switch_default_h" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
</div></div>
<script>function enableDarkmode(){document.body.classList.add("darkmode"),document.getElementById("switch_default").checked=1,document.getElementById("switch_default_h").checked=1}function removeDarkmode(){document.body.classList.remove("darkmode"),document.getElementById("switch_default").checked=0,document.getElementById("switch_default_h").checked=0}function getCookie(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null}cookie=getCookie("darkmode"),"enable"==cookie&&enableDarkmode(),window.matchMedia("(prefers-color-scheme: dark)").matches&&"disable"!==cookie&&(enableDarkmode(),document.cookie="darkmode=enable; path=/");var mobileBtn=function(){1==document.getElementById("switch_default").checked?(enableDarkmode(),document.cookie="darkmode=enable; path=/"):(removeDarkmode(),document.cookie="darkmode=disable; path=/")};</script>

	<div class="main">
		<div class="main-inner">
			<div class="content">
				<article class="post">
					<script src='https://anthony-dong.github.io/media/js/Valine.min.js'></script><style>.v .vlist .vcard .vh .vmeta .vat{font-size:.8125em;color:#9d7873;cursor:pointer;float:right}.v .vlist .vcard .vhead .vsys{display:none}</style ><script type="text/javascript">new Valine(ValineInfo)</script>
					<h2 class="post_title sm_margin"><a>== , hashcode() , equals() , intern()å››è€…ä¹‹é—´çš„å…³ç³»</a></h2>
					<script>
						function lan() {
							if (document.getElementById("lan").innerText == "ç¹") {
								var s = document.getElementById("tongwenlet_cn");
								if (s != null) {
									document.body.removeChild(s)
								}
								var s = document.createElement("script");
								s.language = "javascript";
								s.type = "text/javascript";
								s.src = "https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_tw.js";
								s.id = "tongwenlet_cn";
								document.body.appendChild(s);
								document.getElementById("lan").innerHTML = "ç®€"
							} else {
								if (document.getElementById("lan").innerText == "ç°¡") {
									var s = document.getElementById("tongwenlet_cn");
									if (s != null) {
										document.body.removeChild(s)
									}
									var s = document.createElement("script");
									s.language = "javascript";
									s.type = "text/javascript";
									s.src = "https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_cn.js";
									s.id = "tongwenlet_cn";
									document.body.appendChild(s);
									document.getElementById("lan").innerHTML = "ç¹"
								}
							}
						};
					</script>
					<section class="post_details"><i class="iconfont icon-calendar"></i><span style="margin-right:15px">
							2019-10-21</span><i class="iconfont icon-browse"></i>
							<span class="leancloud_visitors" style="margin-right:15px" id="/post/hashcodeequals-san-zhe-guan-xi/">views <i class="leancloud-visitors-count" style="font-style: normal"></i></span>
							<span class="weaklink" style="margin-right:15px"><i class="iconfont icon-category"></i> <a
								href="https://anthony-dong.github.io/tag/Vyew36Twpl/"
								class="tag">JavaåŸºç¡€</a></span><i class="iconfont icon-caret-down"></i><span
							style="margin-right:15px">695å­—</span><i
							class="iconfont icon-naozhong"></i><span
							style="margin-right:15px">4 min read</span><a id="lan"
							href="javascript:void(0);" onclick="lan();" title="è°ƒæ•´ç®€ç¹ä½“" style="margin-right:15px;">ç¹</a>
						</section>

						<div style="display:flex">
							<div class="md_block" id="md_block">
								<div class="round-shape-one"></div>
								<h2 id="1">1.  &quot;==&quot;</h2>
<blockquote>
<ol>
<li>8ç§åŸºæœ¬æ•°æ®ç±»å‹(åŒ…è£…ç±»å‹ä¸ç®—) , ç›´æ¥æ¯”è¾ƒå€¼</li>
<li>å¼•ç”¨å¯¹è±¡ :  æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€</li>
</ol>
</blockquote>
<blockquote>
<p>â€‹	å¯¹äº <code>Integer</code> ç±»å‹ ,æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ä»–çš„æºç  :</p>
</blockquote>
<pre><code class="language-java">  /**
     * Cache to support the object identity semantics of autoboxing for values between
     * -128 and 127 (inclusive) as required by JLS.
     * 
     * The cache is initialized on first usage.  The size of the cache
     * may be controlled by the {@code -XX:AutoBoxCacheMax=&lt;size&gt;} option.
     * During VM initialization, java.lang.Integer.IntegerCache.high property
     * may be set and saved in the private system properties in the
     * sun.misc.VM class.
     */
é»˜è®¤æ˜¯ [-128,127] è¿™ä¸ªåŒºé—´å†…çš„å€¼ .
  å…¶ä¸­è¯´è¿™ä¸ªcacheç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™åˆå§‹åŒ–,ä»–çš„å¤§å°ç”± `-XX:AutoBoxCacheMax=&lt;size&gt;` æ§åˆ¶çš„,å½“vmåˆå§‹åŒ–çš„æ˜¯å¤Ÿ .IntegerCache.high è¿™ä¸ªä¼šè¢«è®¾ç½®å’Œä¿å­˜ä¸ºç§æœ‰ç³»ç»Ÿå±æ€§åœ¨sun.misc.VM class

    private static class IntegerCache {}

æ‰€ä»¥ä¸€ä¸‹
        Integer integer = 127;
        Integer integer2 = 127;
        Integer integer3 = -129;
        Integer integer4 = -129;
        System.out.println(integer==integer2);    //true
        System.out.println(integer3==integer4);    //true
å½“æˆ‘ä»¬è®¾ç½®äº† -XX:AutoBoxCacheMax=500 ,é‚£ä¹ˆ[-128,500]åŒºé—´å†…ä¹Ÿæ˜¯å¯ä»¥è¿”å›true
</code></pre>
<h2 id="2-hashcode">2.  hashcode()</h2>
<blockquote>
<p>æºç ä¸­å¯¹ <code>hashcode()</code> çš„è§£é‡Šâ€‹ :<br>
As much as is reasonably practical, the hashCode method defined by class {@code Object} does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the Javaâ„¢ programming language.)</p>
<p>è¯´çš„å°±æ˜¯ å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯éå¸¸å®ç”¨çš„,ä»–è¿”å›ä¸€ä¸ªintegerç±»å‹çš„æ•°å€¼å»åŒºåˆ†ä¸åŒå¯¹è±¡.</p>
<p>è¿™ä¸ªæ•°å€¼é€šå¸¸ç”±å°†å¯¹è±¡çš„å†…éƒ¨åœ°å€è½¬è€Œæˆçš„ä¸€ä¸ªæ•°å€¼ , ä½†æ˜¯è¿™ç§å®ç°æŠ€æœ¯å¹¶ä¸è¢«javaè¯­è¨€æ‰€éœ€è¦.</p>
</blockquote>
<p>æ‰€ä»¥é»˜è®¤å®ç°çš„ <code>hashcode()</code> è¿”å›çš„intæ•°å€¼,å…¶å®å°±æ˜¯å†…å­˜åœ°å€è½¬æ¢è¿‡æ¥çš„.</p>
<h2 id="3-equals">3. equals()</h2>
<pre><code class="language-java">public boolean equals(Object obj) {
        return (this == obj);
}
</code></pre>
<blockquote>
<p>â€‹	object æºç ä¸­å¯¹<code>equals()</code>æ–¹æ³•çš„å®ç° ,å‘ç°å®ƒåªæ˜¯åšäº†ä¸¤ä¸ªå¯¹è±¡çš„ '==' æ¯”è¾ƒ</p>
</blockquote>
<blockquote>
<p>â€‹	å¯¹äºä»¥ä¸Š ä¸‰ç§æ–¹æ³•å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±» åŸºæœ¬ä¸Šéƒ½é‡å†™äº† ,ç›®çš„å°±æ˜¯ä¸ºäº†æŸäº›å®é™…éœ€æ±‚.</p>
</blockquote>
<h2 id="4-intern">4 . intern()</h2>
<blockquote>
<p>String æºç å¯¹äº <code>intern()</code> çš„è§£ç­”</p>
<p>A pool of strings, initially empty, is maintained privately by the class {@code String}.</p>
<p>è¿™ä¸ªæ± å­è¢«stringè¿™ä¸ªç±»æ‰€ç»´æŠ¤ .</p>
<p>When the intern method is invoked, if the pool already contains a string equal to this {@code String} object as determined by the {@link #equals(Object)} method, then the string from the pool is returned. Otherwise, this {@code String} object is added to the<br>
pool and a reference to this {@code String} object is returned.</p>
<p>å°±æ˜¯è¯´æ”¹æ–¹æ³•è¢«è°ƒç”¨,å¦‚æœè¿™ä¸ªstringæ± å­å·²ç»æœ‰äº†å’Œè¿™ä¸ªstringå¯¹è±¡ç›¸åŒçš„å¯¹è±¡(é€šè¿‡ <code>equals()</code>æ–¹æ³•æ¯”è¾ƒ),é‚£ä¹ˆå°±ä»è¿™ä¸ªæ± å­ä¸­è¿”å›æ± å­ä¸­çš„è¿™ä¸ªå¯¹è±¡. å¦åˆ™å°±åŠ åˆ°æ± å­é‡Œ .</p>
</blockquote>
<pre><code class="language-java">æ‰€ä»¥ ä¸‹é¢ä»£ç ç†è§£äº†å§ ! 
String str1 = &quot;hello&quot;;
String str2 = new String(&quot;hello&quot;);
System.out.println(str1 == str2);   //false
System.out.println(str1 == str2.intern());   //true
</code></pre>
<h2 id="5-æ‰€ä»¥å¯¹äºè¿™æ–¹é¢çš„é—®é¢˜çº ç»“å—">5.  æ‰€ä»¥å¯¹äºè¿™æ–¹é¢çš„é—®é¢˜çº ç»“å—?</h2>
<p>é‚£å°±ç»§ç»­æ€è€ƒå§.</p>

								<span id="footnote"></span>
								<div id="warn"></div>
							</div>
							<div class="toc-container"><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#1">1.  &quot;==&quot;</a></li>
<li><a href="#2-hashcode">2.  hashcode()</a></li>
<li><a href="#3-equals">3. equals()</a></li>
<li><a href="#4-intern">4 . intern()</a></li>
<li><a href="#5-%E6%89%80%E4%BB%A5%E5%AF%B9%E4%BA%8E%E8%BF%99%E6%96%B9%E9%9D%A2%E7%9A%84%E9%97%AE%E9%A2%98%E7%BA%A0%E7%BB%93%E5%90%97">5.  æ‰€ä»¥å¯¹äºè¿™æ–¹é¢çš„é—®é¢˜çº ç»“å—?</a></li>
</ul>
</li>
</ul>
</div>
						</div>
						<div id="fullPage"><canvas id="canvas"></canvas></div>
				</article>
				<div id="eof"><span>EOF</span></div>
				<div class="round-shape-one"></div>
				<section>
					<div class="doc_comments">
							<div id="valine-container"></div>
					</div>
				</section>
			</div>
		</div>
	</div>
	<script>
		"use strict";
		! function () {
			for (var n = document.getElementsByTagName("pre"), e = n.length, s = 0; s < e; s++) {
				n[s].innerHTML = '<span class="line-number"></span>' + n[s].innerHTML + '<span class="cl"></span>';
				for (var a = n[s].innerHTML.split(/\n/).length, r = 0; r < a - 1; r++) {
					n[s].getElementsByTagName("span")[0].innerHTML += "<span>" + (r + 1) + "</span>"
				}
			}
		}();
		let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");
		window.addEventListener("scroll", event => {
			let fromTop = window.scrollY;
			mainNavLinks.forEach((link, index) => {
				let section = document.getElementById(decodeURI(link.hash).substring(1));
				let nextSection = null
				if (mainNavLinks[index + 1]) {
					nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(
						1));
				}
				if (section.offsetTop <= fromTop) {
					if (nextSection) {
						if (nextSection.offsetTop > fromTop) {
							link.classList.add("currentToc");
						} else {
							link.classList.remove("currentToc");
						}
					} else {
						link.classList.add("currentToc");
					}
				} else {
					link.classList.remove("currentToc");
				}
			});
		});
		var list = document.querySelectorAll(".katex");
		for (var i = 0; i < list.length; i++) {
			list[i].style.display = "unset"
		};
		var h = document.documentElement,
			b = document.body,
			st = "scrollTop",
			sh = "scrollHeight",
			progress = document.querySelector(".progress"),
			scroll;
		document.addEventListener("scroll", function () {
			scroll = (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100;
			progress.style.setProperty("--scroll", scroll + "%")
		});
		var wxScale = new WxScale({
			fullPage: document.querySelector("#fullPage"),
			canvas: document.querySelector("#canvas")
		});
		var imgBox = document.querySelectorAll("#md_block img");
		for (var i = 0; i < imgBox.length; i++) {
			imgBox[i].onclick = function (e) {
				wxScale.start(this)
			}
		};
	</script>
	<style>
		#magnifyImg {
			position: fixed;
			left: 0;
			top: 0;
			text-align: center;
			width: 100%;
			display: none;
			z-index: 9999
		}

		#magnifyImg img {
			object-fit: contain;
			background: #eaecef;
			padding: 15px;
			border-radius: 10px;
			height: auto;
			width: auto;
			vertical-align: middle
		}
	</style>
	<a id="scrollUp"href="#top"style="position: fixed; z-index: 2147483647; display: block;"></a><div class="footer animated fadeInDown"><div class="site_footer"><div class="mysocials"><div class="my_socials"><a href="https://github.com/Anthony-Dong"title="github"><i class="iconfont icon-github"></i></a><a href="fanhaodong516@gmail.com"title="envelope"><i class="iconfont icon-envelope"></i></a></div></div><div class="copyright"id="copyright">You Are My Everything. <a href="mailto:fanhaodong516@gmail.com" target="blank">Send Email</a>CopyrightÂ©2018-2020<a href="https://anthony-dong.github.io"style="margin:0;">Serence</a>.</div><span style="display: inline;margin-right:15px;">ğŸ‘<strong><span id="count-page">168271</span></strong></span><span id="busuanzi_container_page_pv"style="display: inline;"><span>ğŸ“š<strong>186</strong>posts</span></div></div><script>console.log("\n %c \u26a1Anthony-Dong's Blog:https://anthony-dong.github.io ,Github:https://github.com/Anthony-Dong ,Email:fanhaodong516@gmail.com ,æœ‰äº‹æƒ…æ¬¢è¿è”ç³». \n\n","color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;",);</script>
	<script type="text/javascript" async src="https://anthony-dong.github.io/media/js/prism.js"></script>
</body>
</html>