<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="shortcut icon"href="https://anthony-dong.github.io/favicon.ico"type="image/x-icon"/><meta name="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="apple-mobile-web-app-capable"content="yes"/><meta name="apple-mobile-web-app-status-bar-style"content="black"/><meta name="format-detection"content="telephone=no"/><meta name="renderer"content="webkit"/><meta name="description"content="Anthony-Dongçš„ä¸ªäººåšå®¢"/><meta charset="UTF-8"/><title>Linux å¼€å‘å­¦ä¹  | Anthony-Dong</title><link href="https://anthony-dong.github.io/styles/main.css"type="text/css"rel="stylesheet"/><script src="https://anthony-dong.github.io/media/js/magnify.min.js"></script>
	<link rel="canonical" href="https://anthony-dong.github.io/post/linux-jin-jie-ban-xue-xi/" />
</head>
<body>
	<div class="progress"></div><style>.progress{background:linear-gradient(to right,#87ceeb var(--scroll),transparent 0);background-repeat:no-repeat;position:fixed;width:100%;height:4px;z-index:1}</style><div class="darkmode-background"></div><div class="darkmode-layer"></div>
<noscript><p class="warn" >æœ¬é¡µé¢éœ€è¦æµè§ˆå™¨æ”¯æŒï¼ˆå¯ç”¨ï¼‰JavaScript</p></noscript><div class="header"><div class="logo_title"><div class="title animated fadeInDown"><a href="https://anthony-dong.github.io"><img alt="logo" style="display:inline-block;" src="https://anthony-dong.github.io/images/avatar.png"/></a><h1 title="Anthony-Dong" class="weaklink shift"><a  href="/">Anthony-Dong</a></h1>

<div class="navbar weaklink">
<div class="normal_nav">
<div class="bitcron_nav_container"><div class="bitcron_nav"><div class="bitcron_nav"><div style="display:flex;justify-content:center;"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/link" class="selected active current nav__item" >å‹é“¾</a></li></ul></nav>
<div style="float:right;margin-top:1em"><form id="gridea-search-form" data-update="1578893743252" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="Search..."></form></div>
<div style="margin-left:0.5em;margin-top:1.2em"><input id="switch_default" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
<div class="clear clear_nav_inline_end"></div></div></div><div class="clear clear_nav_end"></div></div></div><div class="hamberger" href="javascript:void(0)" onclick="btn_toggle();"><i class="iconfont icon-category"></i></div></div></div></div>
<div id="hn" class="no-js hidden_nav animated fadeInDown"><div class="bitcron_nav_container"><div class="bitcron_nav"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/link" class="selected active current nav__item" >å‹é“¾</a></li></ul><div class="clear clear_nav_inline_end"></div></nav></div><div class="clear clear_nav_end"></div></div>
<div style="display:flex;justify-content:center;inline-block;text-align:center;margin-top:7%"><div><form id="gridea-search-form-1" data-update="1614224679162" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q"  placeholder="Search..." /></form></div><div style="margin-left:0.5em"><input id="switch_default_h" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
</div></div>
<script>function enableDarkmode(){document.body.classList.add("darkmode"),document.getElementById("switch_default").checked=1,document.getElementById("switch_default_h").checked=1}function removeDarkmode(){document.body.classList.remove("darkmode"),document.getElementById("switch_default").checked=0,document.getElementById("switch_default_h").checked=0}function getCookie(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null}cookie=getCookie("darkmode"),"enable"==cookie&&enableDarkmode(),window.matchMedia("(prefers-color-scheme: dark)").matches&&"disable"!==cookie&&(enableDarkmode(),document.cookie="darkmode=enable; path=/");var mobileBtn=function(){1==document.getElementById("switch_default").checked?(enableDarkmode(),document.cookie="darkmode=enable; path=/"):(removeDarkmode(),document.cookie="darkmode=disable; path=/")};</script>

	<div class="main">
		<div class="main-inner">
			<div class="content">
				<article class="post">
					<script src='https://anthony-dong.github.io/media/js/Valine.min.js'></script><style>.v .vlist .vcard .vh .vmeta .vat{font-size:.8125em;color:#9d7873;cursor:pointer;float:right}.v .vlist .vcard .vhead .vsys{display:none}</style ><script type="text/javascript">new Valine(ValineInfo)</script>
					<h2 class="post_title sm_margin"><a>Linux å¼€å‘å­¦ä¹ </a></h2>
					<script>
						function lan() {
							if (document.getElementById("lan").innerText == "ç¹") {
								var s = document.getElementById("tongwenlet_cn");
								if (s != null) {
									document.body.removeChild(s)
								}
								var s = document.createElement("script");
								s.language = "javascript";
								s.type = "text/javascript";
								s.src = "https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_tw.js";
								s.id = "tongwenlet_cn";
								document.body.appendChild(s);
								document.getElementById("lan").innerHTML = "ç®€"
							} else {
								if (document.getElementById("lan").innerText == "ç°¡") {
									var s = document.getElementById("tongwenlet_cn");
									if (s != null) {
										document.body.removeChild(s)
									}
									var s = document.createElement("script");
									s.language = "javascript";
									s.type = "text/javascript";
									s.src = "https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_cn.js";
									s.id = "tongwenlet_cn";
									document.body.appendChild(s);
									document.getElementById("lan").innerHTML = "ç¹"
								}
							}
						};
					</script>
					<section class="post_details"><i class="iconfont icon-calendar"></i><span style="margin-right:15px">
							2019-09-14</span><i class="iconfont icon-browse"></i>
							<span class="leancloud_visitors" style="margin-right:15px" id="/post/linux-jin-jie-ban-xue-xi/">views <i class="leancloud-visitors-count" style="font-style: normal"></i></span>
							<span class="weaklink" style="margin-right:15px"><i class="iconfont icon-category"></i> <a
								href="https://anthony-dong.github.io/tag/FDJxOVwJI_i/"
								class="tag">linux</a></span><i class="iconfont icon-caret-down"></i><span
							style="margin-right:15px">2685å­—</span><i
							class="iconfont icon-naozhong"></i><span
							style="margin-right:15px">11 min read</span><a id="lan"
							href="javascript:void(0);" onclick="lan();" title="è°ƒæ•´ç®€ç¹ä½“" style="margin-right:15px;">ç¹</a>
						</section>

						<div style="display:flex">
							<div class="md_block" id="md_block">
								<div class="round-shape-one"></div>
								<h2 id="1-ç”¨æˆ·æƒé™å­¦ä¹ ">1. ç”¨æˆ·æƒé™å­¦ä¹ </h2>
<p>â€‹	ä¸ºä»€ä¹ˆè¦ç”¨æˆ·,å› ä¸ºå®é™…å¼€å‘çš„æ—¶å€™ä½ ä¸å¯èƒ½æ˜¯rootç”¨æˆ·,æ‰€ä»¥éœ€è¦è¿›è¡Œæƒé™å­¦ä¹ ,ä¸èƒ½æ‰§è¡Œå°± sudo å“ˆå“ˆå“ˆ</p>
<ul>
<li>
<p>æ–°å»ºç”¨æˆ· <code>useradd testuser</code></p>
</li>
<li>
<p>åˆ›å»ºå¯†ç  <code>passwd testuser</code></p>
</li>
<li>
<p>åˆ é™¤ç”¨æˆ·  <code>userdel testuser</code></p>
</li>
<li>
<p>åˆ‡æ¢ç”¨æˆ· <code>su - user</code></p>
</li>
<li>
<p>é«˜çº§ç‰ˆ <code>useradd -s /bin/sh -d /home/gem -g group â€“G adm,root gem</code></p>
<p>â€‹	æ­¤å‘½ä»¤æ–°å»ºäº†ä¸€ä¸ªç”¨æˆ·gemï¼Œè¯¥ç”¨æˆ·çš„ç™»å½•Shellæ˜¯/bin/shï¼Œä»–çš„ç”¨æˆ·ä¸»ç›®å½•åœ¨ /home/gem,å®ƒå±äºgroupç”¨æˆ·ç»„ï¼ŒåŒæ—¶åˆå±äºadmå’Œrootç”¨æˆ·ç»„ï¼Œå…¶ä¸­groupç”¨æˆ·ç»„æ˜¯å…¶ä¸»ç»„,</p>
</li>
<li>
<p>ä¿®æ”¹ç”¨æˆ· <code>usermod -s /bin/ksh -d /home/z â€“g developer sam</code></p>
<p>â€‹	æ­¤å‘½ä»¤å°†ç”¨æˆ·samçš„ç™»å½•Shellä¿®æ”¹ä¸ºkshï¼Œä¸»ç›®å½•æ”¹ä¸º/home/zï¼Œç”¨æˆ·ç»„æ”¹ä¸ºdeveloperã€‚</p>
</li>
<li>
<p>å¢åŠ ç»„ <code>groupadd -g 101 group2</code></p>
<p>â€‹	æ­¤å‘½ä»¤å‘ç³»ç»Ÿä¸­å¢åŠ äº†ä¸€ä¸ªæ–°ç»„group2ï¼ŒåŒæ—¶æŒ‡å®šæ–°ç»„çš„ç»„æ ‡è¯†å·æ˜¯101ã€‚</p>
</li>
<li>
<p>åˆ é™¤ç»„ <code>groupdel group1</code></p>
<p>â€‹	æ­¤å‘½ä»¤ä»ç³»ç»Ÿä¸­åˆ é™¤ç»„group1.</p>
</li>
<li>
<p>ä¿®æ”¹ç»„ <code>groupmod -g 102 group2</code></p>
<p>â€‹	æ­¤å‘½ä»¤å°†ç»„group2çš„ç»„æ ‡è¯†å·ä¿®æ”¹ä¸º102ã€‚</p>
</li>
<li>
<p><strong>è®©æ™®é€šç”¨æˆ·æ‹¥æœ‰rootçš„æƒé™</strong>   <strong>ä¿®æ”¹/etc/passwdå³å¯ï¼ŒæŠŠç”¨æˆ·åçš„IDå’ŒIDç»„ä¿®æ”¹æˆ0ã€‚</strong></p>
<p>â€‹</p>
</li>
</ul>
<ol>
<li>
<p>ç»™ç”¨æˆ·æ·»åŠ æ–‡ä»¶æƒé™</p>
<ul>
<li>
<pre><code class="language-shell">chown -R user /home/user/   		é€’å½’çš„æ–¹å¼ç»™ /home/user ç›®å½•ä¸‹çš„å…¨éƒ¨ç»™ userç”¨æˆ·
</code></pre>
</li>
</ul>
</li>
<li>
<p>æŸ¥çœ‹æ–‡ä»¶ç”¨æˆ·æƒé™</p>
<ul>
<li>
<pre><code class="language-shell">[root@iz2zegua78a74kqn8clokfz user]# ll
total 28388
drwxr-xr-x 9 user user     4096 Aug 27 15:26 elasticsearch
-rw-r--r-- 1 user root 29056810 Aug 27 15:00 elasticsearch-6.2.4.tar.gz
-rw-r--r-- 1 user root      291 Sep  1 17:57 null
drwxr-xr-x 2 user root     4096 Sep  1 19:07 script

â€“       rw-     râ€“    râ€“    9          user                user      4096   
-æ–‡ä»¶ dç›®å½• lè½¯è¿æ¥
æ™®é€šæ–‡ä»¶ ç”¨æˆ·æƒé™ ç»„æƒé™ å…¶ä»–ç”¨æˆ· è¡¨ç¤ºæ–‡ä»¶ä¸ªæ•° è¯¥æ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…  è¡¨ç¤ºæ‰€å±çš„ç»„   æ–‡ä»¶å¤§å° 
</code></pre>
</li>
</ul>
</li>
<li>
<p>ç¡®å®šäº†ä¸€ä¸ªæ–‡ä»¶çš„è®¿é—®æƒé™åï¼Œç”¨æˆ·å¯ä»¥åˆ©ç”¨Linuxç³»ç»Ÿæä¾›çš„chmodå‘½ä»¤æ¥é‡æ–°è®¾å®šä¸åŒçš„è®¿é—®æƒé™ã€‚ä¹Ÿå¯ä»¥åˆ©ç”¨chownå‘½ä»¤æ¥æ›´æ”¹æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…ã€‚åˆ©ç”¨chgrpå‘½ä»¤æ¥æ›´æ”¹æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„ç”¨æˆ·ç»„ã€‚</p>
<blockquote>
<ol>
<li>chmodå‘½ä»¤æ˜¯éå¸¸é‡è¦çš„ï¼Œç”¨äºæ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚ç”¨æˆ·ç”¨å®ƒæ§åˆ¶æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚</li>
</ol>
<pre><code class="language-shell">chmod ï¼»whoï¼½ ï¼»+ | â€“ | =ï¼½ ï¼»modeï¼½ æ–‡ä»¶å

mode æœ‰ x w r 
å…¶ä¸­  x å¯¹åº”çš„æ˜¯ 1
	  w å¯¹åº”çš„æ˜¯ 2
	  r å¯¹åº”çš„æ˜¯ 4
	  
æ‰€ä»¥  chmod 777 ./test.sh   å°±æ˜¯ æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥è¿›è¡Œè¯»å†™æ“ä½œ
  chmod 754 æ˜¯ ç”¨æˆ·æ˜¯ xwr ,ç»„æ˜¯ xr , å…¶ä»–ç”¨æˆ·æ˜¯ r
  

</code></pre>
<ol start="2">
<li>chown å‘½ä»¤  åŠŸèƒ½ï¼šæ›´æ”¹æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„å±ä¸»å’Œå±ç»„ã€‚</li>
</ol>
<pre><code class="language-shell">chown -R userï¼šgroup  filename    -Ræ˜¯ é€’å½’å¤„ç† -væ˜¾ç¤ºæ‰§è¡Œè¿‡ç¨‹
</code></pre>
</blockquote>
</li>
</ol>
<h2 id="2-top-å‘½ä»¤å­¦ä¹ ">2. top å‘½ä»¤å­¦ä¹ </h2>
<ol>
<li>
<p>top å‘½ä»¤ç•Œé¢å±•ç¤º</p>
<figure data-type="image" tabindex="1"><img src="https://tyut.oss-cn-beijing.aliyuncs.com/image/2019-09-03/50f47a7f-b4d8-4a28-84b3-2aab183bcf4e.png?x-oss-process=style/template01" alt="" loading="lazy"></figure>
</li>
<li>
<p>ç•Œé¢ æè¿°</p>
<blockquote>
<ol>
<li>
<p>task  æ˜¯è¿›ç¨‹æ•°</p>
</li>
<li>
<p>totalã€€ã€€ ã€€ã€€ è¿›ç¨‹æ€»æ•°</p>
</li>
<li>
<p>running ã€€ã€€ æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•°</p>
</li>
<li>
<p>sleeping ã€€ã€€ç¡çœ çš„è¿›ç¨‹æ•°</p>
</li>
<li>
<p>stopped ã€€ã€€åœæ­¢çš„è¿›ç¨‹æ•°</p>
</li>
<li>
<p>zombie ã€€ã€€  åƒµå°¸è¿›ç¨‹æ•°</p>
</li>
<li>
<p>CPU æ˜¯ CPU çš„ä½¿ç”¨æƒ…å†µ</p>
</li>
<li>
<p>id æ˜¯æŒ‡ ç©ºé—²çš„ å†…å­˜ç™¾åˆ†æ¯”</p>
</li>
<li>
<p>us æ˜¯æŒ‡ ç”¨æˆ·ç™¾åˆ†æ¯”</p>
</li>
<li>
<p>sy æ˜¯æŒ‡ å†…æ ¸ç™¾åˆ†æ¯”</p>
</li>
<li>
<p>Mem  æ˜¯å†…å­˜ä½¿ç”¨æƒ…å†µ æ¯”å¦‚è¯´ 1883724 å¯ä»¥ä»¥ä¸‰ä½åˆ†éš”å¼€ 1,883,724, å°±æ˜¯ 1.8ä¸ªG æœ€å°å•ä½æ˜¯KB</p>
</li>
<li>
<p>total æ˜¯å…¨éƒ¨ ç‰©ç†å†…å­˜</p>
</li>
<li>
<p>free æ˜¯ç©ºé—²ç‰©ç†å†…å­˜</p>
</li>
<li>
<p>used æ˜¯æŒ‡ ä½¿ç”¨çš„ç‰©ç†å†…å­˜</p>
</li>
<li>
<p>buffersï¼š  ç”¨ä½œå†…æ ¸ç¼“å­˜çš„å†…å­˜é‡</p>
</li>
<li>
<p>swap æ˜¯æŒ‡çš„æ˜¯ä¸€ä¸ªäº¤æ¢åˆ†åŒºæˆ–æ–‡ä»¶ã€‚åœ¨Linuxä¸Šå¯ä»¥ä½¿ç”¨swapon -så‘½ä»¤æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸Šæ­£åœ¨ä½¿ç”¨çš„äº¤æ¢ç©ºé—´</p>
</li>
<li>
<p>æˆ‘æ²¡ææ¸…æ¥šè¿™ä¸ªæ˜¯å•¥</p>
</li>
</ol>
<hr>
<ol start="5">
<li>
<p>å¼€å§‹ è¿›ç¨‹ è¯¦æƒ…ä¿¡æ¯</p>
</li>
<li>
<p>pid  æŒ‡çš„æ˜¯ è¿›ç¨‹id</p>
</li>
<li>
<p>ppid æ˜¯ çˆ¶è¿›ç¨‹id</p>
</li>
<li>
<p>USER è¿›ç¨‹æ‰€æœ‰è€…ç”¨æˆ·</p>
</li>
<li>
<p>PR æŒ‡çš„æ˜¯ä¼˜å…ˆçº§</p>
</li>
<li>
<p>NI æŒ‡çš„æ˜¯ nice   è´Ÿå€¼è¡¨ç¤ºé«˜ä¼˜å…ˆçº§ï¼Œæ­£å€¼è¡¨ç¤ºä½ä¼˜å…ˆçº§</p>
</li>
<li>
<p>VIRT è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜æ€»é‡ï¼Œå•ä½kbã€‚VIRT=SWAP+RES(å…¶å®å°±æ˜¯å ç”¨åœ°å€ç©ºé—´çš„å¤§å°;å°±æ˜¯æ•°æ®å¤§å°)</p>
<ol>
<li>ç°ä»£æ“ä½œç³»ç»Ÿé‡Œé¢åˆ†é…è™šæ‹Ÿåœ°å€ç©ºé—´æ“ä½œä¸åŒäºåˆ†é…ç‰©ç†å†…å­˜ã€‚åœ¨64ä½æ“ä½œç³»ç»Ÿä¸Šï¼Œå¯ç”¨çš„æœ€å¤§è™šæ‹Ÿåœ°å€ç©ºé—´æœ‰16EBï¼Œå³å¤§æ¦‚180äº¿GBã€‚é‚£ä¹ˆåœ¨ä¸€å°åªæœ‰16Gçš„ç‰©ç†å†…å­˜çš„æœºå™¨ä¸Šï¼Œæˆ‘ä¹Ÿèƒ½è¦æ±‚è·å¾—4TBçš„åœ°å€ç©ºé—´ä»¥å¤‡å°†æ¥ä½¿ç”¨ã€‚</li>
<li>VIRTé«˜æ˜¯å› ä¸ºåˆ†é…äº†å¤ªå¤šåœ°å€ç©ºé—´å¯¼è‡´ã€‚ä¸€èˆ¬æ¥è¯´ä¸ç”¨å¤ªåœ¨æ„VIRTå¤ªé«˜ï¼Œå› ä¸ºä½ æœ‰16EBçš„ç©ºé—´å¯ä»¥ä½¿ç”¨ã€‚å¦‚æœä½ å®åœ¨éœ€è¦æ§åˆ¶VIRTçš„ä½¿ç”¨ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡MALLOC_ARENA_MAXï¼Œä¾‹å¦‚hadoopæ¨èå€¼ä¸º4ï¼Œå› ä¸ºYARNä½¿ç”¨VIRTå€¼ç›‘æ§èµ„æºä½¿ç”¨ã€‚</li>
</ol>
</li>
<li>
<p>SWAP  è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜ä¸­ï¼Œè¢«æ¢å‡ºçš„å¤§å°ï¼Œå•ä½kb</p>
</li>
<li>
<p>RES  è¿›ç¨‹ä½¿ç”¨çš„ã€æœªè¢«æ¢å‡ºçš„ç‰©ç†å†…å­˜å¤§å°ï¼Œå•ä½kbã€‚RES=CODE+DATA  (å…¶å®å°±æ˜¯ ç‰©ç†å†…å­˜å¤§å°)  æˆ‘ä»¬ä¸»è¦çœ‹è¿™ä¸ª</p>
</li>
<li>
<p>COMMAND  å‘½ä»¤å/å‘½ä»¤è¡Œ</p>
</li>
<li>
<p>S  è¿›ç¨‹çŠ¶æ€ã€‚D=ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ R=è¿è¡Œ S=ç¡çœ  T=è·Ÿè¸ª/åœæ­¢ Z=åƒµå°¸è¿›ç¨‹</p>
</li>
<li>
<p>TIME+    è¿›ç¨‹ä½¿ç”¨çš„CPUæ—¶é—´æ€»è®¡ï¼Œå•ä½1/100ç§’</p>
</li>
<li>
<p>ç›¸å…³ top ç•Œé¢æŒ‡ä»¤(åœ¨ topç•Œé¢ æ•² è¿™äº› å­—æ¯å°±è¡Œ)</p>
</li>
<li>
<p>&quot;1&quot; æ˜¾ç¤º æ¯ä¸ª CPU çŠ¶å†µ</p>
</li>
<li>
<p>&quot;b&quot;  æ‰“å¼€å’Œå…³é—­ é«˜äº®æ•ˆæœ</p>
</li>
<li>
<p>&quot;x&quot;  æ‰“å¼€è‡ªå·±è®¾å®šçš„æ’åº é«˜äº®æ˜¾ç¤º (æˆ–å…³é—­)</p>
</li>
<li>
<p>å¯ä»¥çœ‹åˆ°ç°åœ¨æ˜¯æŒ‰&quot;%MEM&quot;è¿›è¡Œæ’åºçš„ï¼Œå¯ä»¥æŒ‰â€shift+&gt;â€æˆ–è€…â€shift+&lt;â€å·¦å³æ”¹å˜æ’åºåºåˆ—ã€‚</p>
</li>
<li>
<p>&quot;q&quot; é€€å‡ºtopç¨‹åº</p>
</li>
<li>
<p>M:æ ¹æ®é©»ç•™å†…å­˜å¤§å°è¿›è¡Œæ’åºã€‚</p>
</li>
<li>
<p>P æ ¹æ® cpuæ’åº å’Œ shift&gt; &lt; ä¸€æ ·</p>
</li>
<li>
<p>T æ ¹æ® æ—¶é—´ç´¯åŠ æ’åº</p>
</li>
<li>
<p>&quot;f&quot;  è¿›å…¥ å¦å¤–ä¸€ä¸ªç•Œé¢</p>
</li>
<li>
<p>&quot;k&quot; ç»ˆæ­¢ä¸€ä¸ªè¿›ç¨‹ã€‚</p>
</li>
</ol>
<hr>
<ol start="7">
<li>ä»¥åŠ  top çš„ç›¸å…³å‚æ•°</li>
</ol>
<p>&quot;-d&quot;  æ›´æ–°å‘¨æœŸ  å•ä½S  é»˜è®¤æ˜¯5Såˆ·æ–°ä¸€æ¬¡  ä¾‹å¦‚ top -d 10  è¡¨ç¤º 10Såˆ·æ–°ä¸€æ¬¡</p>
<p>&quot;-n&quot;  è¡¨ç¤ºæ›´æ¬¡æ¬¡æ•°  top -n 2 è¡¨ç¤º åªæ›´æ–°ä¸¤æ¬¡</p>
<p>&quot;-p&quot;  é€šè¿‡æŒ‡å®šç›‘æ§è¿›ç¨‹IDæ¥ä»…ä»…ç›‘æ§æŸä¸ªè¿›ç¨‹çš„çŠ¶æ€ã€‚</p>
<p>&quot;-c&quot;  æ˜¾ç¤ºæ•´ä¸ªå‘½ä»¤è¡Œè€Œä¸åªæ˜¯æ˜¾ç¤ºå‘½ä»¤å   æ¯”å¦‚è¯´æˆ‘æŸ¥çœ‹ top -p 6379 -c å°±æ˜¾ç¤º äº†ä¸Šé¢çš„cpuç­‰ä¿¡æ¯</p>
</blockquote>
</li>
</ol>
<blockquote>
<p>q  è¯¥é€‰é¡¹å°†ä½¿topæ²¡æœ‰ä»»ä½•å»¶è¿Ÿçš„è¿›è¡Œåˆ·æ–°ã€‚å¦‚æœè°ƒç”¨ç¨‹åºæœ‰è¶…çº§ç”¨æˆ·æƒé™ï¼Œé‚£ä¹ˆtopå°†ä»¥å°½å¯èƒ½é«˜çš„ä¼˜å…ˆçº§è¿è¡Œã€‚</p>
<p>S  æŒ‡å®šç´¯è®¡æ¨¡å¼</p>
<p>s  ä½¿topå‘½ä»¤åœ¨å®‰å…¨æ¨¡å¼ä¸­è¿è¡Œã€‚è¿™å°†å»é™¤äº¤äº’å‘½ä»¤æ‰€å¸¦æ¥çš„æ½œåœ¨å±é™©ã€‚</p>
<p>i  ä½¿topä¸æ˜¾ç¤ºä»»ä½•é—²ç½®æˆ–è€…åƒµæ­»è¿›ç¨‹ã€‚</p>
</blockquote>
<h2 id="3-free-å‘½ä»¤å­¦ä¹ ">3. free å‘½ä»¤å­¦ä¹ </h2>
<ol>
<li>
<p>å‘½ä»¤ç•Œé¢</p>
<figure data-type="image" tabindex="2"><img src="https://tyut.oss-cn-beijing.aliyuncs.com/image/2019-09-03/60ff85ee-4785-491d-a2c3-a7dc7640cbb5.png?x-oss-process=style/template01" alt="" loading="lazy"></figure>
</li>
<li>
<p>å‘½ä»¤å‚æ•°</p>
</li>
<li>
<p>å¾ˆç®€å•  åªéœ€è¦ è®°ä½</p>
<ol>
<li>&quot;-m&quot;  ä»¥ M ä¸ºå•ä½æ˜¾ç¤º</li>
</ol>
</li>
<li>
<p>&quot;-k&quot;  æ˜¯ä»¥KBä¸ºå•ä½æ˜¾ç¤º  å…¶ä»–çš„  b  g éƒ½æ˜¯ä¸€æ ·ä¸å±•ç¤ºäº†</p>
<ol start="3">
<li>&quot;-t&quot;  æ˜¾ç¤ºçš„æ›´ç»†</li>
</ol>
</li>
<li>
<p>&quot;-s &quot;  è·ŸS</p>
<ol start="5">
<li>&quot;-h&quot; æ˜¾ç¤º å•ä½</li>
</ol>
</li>
<li>
<p>swap  å°±æ˜¯ è™šæ‹Ÿå†…å­˜</p>
<ol start="7">
<li>men  æ˜¯ç‰©ç†å†…å­˜</li>
</ol>
</li>
<li>
<p>å¯ç”¨å†…å­˜=used  +  free + buff/cache  è¿™ä¸‰ä¸ªä¹‹å’Œ</p>
</li>
</ol>
<h2 id="4pså‘½ä»¤ä¸-ps-ef-ä»¥åŠ-ps-aux-å‘½ä»¤pstree-å’Œ-ps-axjf">4.pså‘½ä»¤ä¸ ps -ef   ä»¥åŠ ps -aux å‘½ä»¤pstree å’Œ ps -axjf</h2>
<ol>
<li>
<p>ps-ef  ç”¨æ ‡å‡†çš„æ ¼å¼æ˜¾ç¤º</p>
<figure data-type="image" tabindex="3"><img src="https://tyut.oss-cn-beijing.aliyuncs.com/image/2019-09-03/3689d15b-e530-4bda-8268-3c7858e6777d.png?x-oss-process=style/template01" alt="" loading="lazy"></figure>
<ol start="2">
<li>
<p>ps-aux æ˜¯ç”¨BSDçš„æ ¼å¼æ¥æ˜¾ç¤º</p>
</li>
<li>
<p>æˆ‘ä»¬åªç”¨å…³æ³¨çš„æ˜¯ RSS  ä»–æ˜¯ æ¯”å¦‚è¯´ 2788 ä»–å…¶å®æ˜¯ 2,788 å•ä½ä¸ºKB  å®é™…å¤§å°æ˜¯ 2.7M</p>
</li>
<li>
<p>ä»¥åŠ  pid è¿›ç¨‹å·</p>
</li>
<li>
<p>TTY ï¼šè¯¥ process æ˜¯åœ¨é‚£å€‹ç»ˆç«¯ä¸Šé¢è¿ä½œ</p>
</li>
</ol>
<h2 id="5-netstat-å­¦ä¹ -æŸ¥çœ‹æœåŠ¡åŠç›‘å¬ç«¯å£">5. netstat å­¦ä¹  æŸ¥çœ‹æœåŠ¡åŠç›‘å¬ç«¯å£</h2>
<blockquote>
<pre><code class="language-shell">netstatå‘½ä»¤å„ä¸ªå‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š

ã€€ã€€-t : æŒ‡æ˜æ˜¾ç¤ºTCPç«¯å£

ã€€ã€€-u : æŒ‡æ˜æ˜¾ç¤ºUDPç«¯å£

ã€€ã€€-l : ä»…æ˜¾ç¤ºç›‘å¬å¥—æ¥å­—(æ‰€è°“å¥—æ¥å­—å°±æ˜¯ä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿè¯»å†™ä¸æ”¶å‘é€šè®¯åè®®(protocol)ä¸èµ„æ–™çš„ç¨‹åº),ä»…åˆ—å‡ºæœ‰åœ¨ Listen (ç›‘å¬) çš„æœå‹™çŠ¶æ€

ã€€ã€€-p : æ˜¾ç¤ºè¿›ç¨‹æ ‡è¯†ç¬¦å’Œç¨‹åºåç§°ï¼Œæ¯ä¸€ä¸ªå¥—æ¥å­—/ç«¯å£éƒ½å±äºä¸€ä¸ªç¨‹åºã€‚

ã€€ã€€-n : ä¸è¿›è¡ŒDNSè½®è¯¢(å¯ä»¥åŠ é€Ÿæ“ä½œ)
ã€€ã€€-a :(all)æ˜¾ç¤ºæ‰€æœ‰é€‰é¡¹ï¼Œ netstaté»˜è®¤ä¸æ˜¾ç¤ºLISTENç›¸å…³
ã€€
</code></pre>
</blockquote>
<pre><code class="language-shell">
netstat -nlp |grep LISTEN   //æŸ¥çœ‹å½“å‰æ‰€æœ‰ç›‘å¬ç«¯å£Â·(æ¯”è¾ƒå¸¸ç”¨)

netstat -nlp |grep 80   //æŸ¥çœ‹æ‰€æœ‰80ç«¯å£ä½¿ç”¨æƒ…å†µÂ·

netstat -an | grep 3306   //æŸ¥çœ‹æ‰€æœ‰3306ç«¯å£ä½¿ç”¨æƒ…å†µÂ·

netstat -apn | grep ssh   å¹¶ä¸æ˜¯æ‰€æœ‰çš„è¿›ç¨‹éƒ½èƒ½æ‰¾åˆ°ï¼Œæ²¡æœ‰æƒé™çš„ä¼šä¸æ˜¾ç¤ºï¼Œä½¿ç”¨ root æƒé™æŸ¥çœ‹æ‰€æœ‰çš„ä¿¡æ¯ã€‚

netstat -an | grep ':22'  æ‰¾å‡ºè¿è¡Œåœ¨æŒ‡å®šç«¯å£çš„è¿›ç¨‹

netstat -ie  è·Ÿ  ifconfig æ•ˆæœç›¸ä¼¼


windowsçš„ æŸ¥çœ‹è¿›ç¨‹ 
netstat -ano | findstr &quot;80&quot;
</code></pre>
</li>
</ol>
<h2 id="6-linux-æŸ¥çœ‹-å¼€æ”¾çš„ç«¯å£å·">6. linux æŸ¥çœ‹ å¼€æ”¾çš„ç«¯å£å·</h2>
<ul>
<li>
<pre><code>1.æŸ¥çœ‹å¼€æ”¾çš„ç«¯å£å· 
firewall-cmd --zone=public --list-ports

2.æ·»åŠ ç«¯å£å·
firewall-cmd --zone=public --add-port=9876/tcp --permanent

3.é‡æ–°å¯åŠ¨
firewall-cmd --reload

4.å†æ¬¡æŸ¥çœ‹ okäº†

5. é˜¿é‡Œäº‘ä¸Šé˜²ç«å¢™å°±æ˜¯å…³é—­çš„,éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»ç½‘ç«™å¼€å¯
</code></pre>
</li>
</ul>
<h2 id="7-linux-ä¸‹-cacheå’Œbuff-è¿‡é«˜">7. linux ä¸‹ cacheå’Œbuff è¿‡é«˜</h2>
<ul>
<li>
<p>æ‰‹åŠ¨é‡Šæ”¾</p>
<pre><code class="language-shell">echo 1 &gt; /proc/sys/vm/drop_caches;
echo 2 &gt; /proc/sys/vm/drop_caches;
echo 3 &gt; /proc/sys/vm/drop_caches;
</code></pre>
</li>
<li>
<p>å¦‚ä½•æŸ¥çœ‹ top å’Œ freeéƒ½å¯ä»¥</p>
<pre><code class="language-shell">[root@iz2zegua78a74kqn8clokfz shell]# free -m
              total        used        free      shared  buff/cache   available
Mem:           1839         783         966           8          89         928
Swap:             0           0           0


[root@iz2zegua78a74kqn8clokfz shell]# free -h
              total        used        free      shared  buff/cache   available
Mem:           1.8G        783M        966M        8.6M         90M        927M
Swap:            0B          0B          0B
</code></pre>
</li>
<li>
<p>buff/cacheæ˜¯ç”¨äºåŠ é€Ÿç¨‹åºè¿è¡Œçš„ï¼Œæœ‰ä¸€äº›ç¡¬ç›˜/ç½‘ç»œä¸Šçš„æ•°æ®åŠ è½½çš„é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå› æ­¤ä¼šè¢«ç¼“å­˜åˆ°é«˜é€Ÿçš„å†…å­˜ä¸­ï¼Œä»¥å…å»é‡å¤åŠ è½½çš„æ—¶é—´æ¶ˆè€—ã€‚buff/cacheåœ¨å†…å­˜å ç”¨è¿‡é«˜çš„æ—¶å€™ä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨æ¸…ç†ï¼Œ ä½†æ˜¯è¿™ç§æ¸…ç¼“å­˜çš„å·¥ä½œä¹Ÿå¹¶ä¸æ˜¯æ²¡æœ‰æˆæœ¬ã€‚æ¸…ç¼“å­˜å¿…é¡»ä¿è¯cacheä¸­çš„æ•°æ®è·Ÿå¯¹åº”æ–‡ä»¶ä¸­çš„æ•°æ®ä¸€è‡´ï¼Œæ‰€ä»¥ä¼´éšç€cacheæ¸…é™¤çš„è¡Œä¸ºçš„ï¼Œä¸€èˆ¬éƒ½æ˜¯è¦åšå¤§é‡ç¡¬ç›˜è¯»å†™çš„ã€‚å› ä¸ºå†…æ ¸è¦å¯¹æ¯”cacheä¸­çš„æ•°æ®å’Œå¯¹åº”ç¡¬ç›˜æ–‡ä»¶ä¸Šçš„æ•°æ®æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´éœ€è¦å†™å›ï¼Œä¹‹åæ‰èƒ½å›æ”¶ã€‚ ç¡¬ç›˜è¯»å†™å°±æ„å‘³ç€é«˜å»¶è¿Ÿï¼Œè¿™ä¸ªå»¶è¿Ÿé€šå¸¸ä¼šè¾¾åˆ°å‡ æ¯«ç§’åˆ°æ•°ç§’ã€‚</p>
</li>
</ul>
<h2 id="7-linux-æ·»åŠ å®šæ—¶ä»»åŠ¡">7. linux æ·»åŠ å®šæ—¶ä»»åŠ¡</h2>
<h3 id="1-ä½¿ç”¨">1. ä½¿ç”¨</h3>
<pre><code class="language-shell">crond statusï¼šæŸ¥çœ‹crondæœåŠ¡çŠ¶æ€
crond startï¼šå¯åŠ¨crondæœåŠ¡
crond stopï¼šå…³é—­crondæœåŠ¡
crond restartï¼šé‡å¯crondæœåŠ¡
crontab -uï¼šè®¾å®šæŸä¸ªç”¨æˆ·çš„crondæœåŠ¡
crontab -lï¼šåˆ—å‡ºæŸä¸ªç”¨æˆ·çš„crondå†…å®¹
crontab -rï¼šåˆ é™¤æŸä¸ªç”¨æˆ·çš„crondæœåŠ¡
crontab -eï¼šç¼–è¾‘æŸä¸ªç”¨æˆ·çš„crondæœåŠ¡å†…å®¹
*æœ‰æ—¶åœ¨å¯åŠ¨crondæ—¶ä¼šå‡ºç°crond: can't lock /var/run/crond.pid, otherpid may be 15340: Resource temporarily unavailableçš„æç¤ºï¼Œåªéœ€ç”¨killall crondç»“æŸæ‰€æœ‰crondæœåŠ¡å†é‡æ–°å¯åŠ¨å³å¯

ç„¶åé€šè¿‡ pgrep crond æŸ¥çœ‹ä¸€ä¸‹
è‹¥æ²¡æœ‰ åˆ™å¯åŠ¨  crond start  å°± OKäº†

</code></pre>
<h3 id="2-ä¾‹å­">2. ä¾‹å­</h3>
<pre><code class="language-shell">vim clear.sh
#!/bin/bash
echo 1 &gt; /proc/sys/vm/drop_caches
echo 2 &gt; /proc/sys/vm/drop_caches
echo 3 &gt; /proc/sys/vm/drop_caches

crontab -e
0 1 * * * /home/admin/shell/clear.sh

crontab -l  æŸ¥çœ‹æœ‰ å°±OKäº† ,ç„¶åæ¯å¤©å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†ç¼“å­˜


</code></pre>

								<span id="footnote"></span>
								<div id="warn"></div>
							</div>
							<div class="toc-container"><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#1-%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E5%AD%A6%E4%B9%A0">1. ç”¨æˆ·æƒé™å­¦ä¹ </a></li>
<li><a href="#2-top-%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0">2. top å‘½ä»¤å­¦ä¹ </a></li>
<li><a href="#3-free-%E5%91%BD%E4%BB%A4%E5%AD%A6%E4%B9%A0">3. free å‘½ä»¤å­¦ä¹ </a></li>
<li><a href="#4ps%E5%91%BD%E4%BB%A4%E4%B8%8E-ps-ef-%E4%BB%A5%E5%8F%8A-ps-aux-%E5%91%BD%E4%BB%A4pstree-%E5%92%8C-ps-axjf">4.pså‘½ä»¤ä¸ ps -ef   ä»¥åŠ ps -aux å‘½ä»¤pstree å’Œ ps -axjf</a></li>
<li><a href="#5-netstat-%E5%AD%A6%E4%B9%A0-%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E5%8F%8A%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3">5. netstat å­¦ä¹  æŸ¥çœ‹æœåŠ¡åŠç›‘å¬ç«¯å£</a></li>
<li><a href="#6-linux-%E6%9F%A5%E7%9C%8B-%E5%BC%80%E6%94%BE%E7%9A%84%E7%AB%AF%E5%8F%A3%E5%8F%B7">6. linux æŸ¥çœ‹ å¼€æ”¾çš„ç«¯å£å·</a></li>
<li><a href="#7-linux-%E4%B8%8B-cache%E5%92%8Cbuff-%E8%BF%87%E9%AB%98">7. linux ä¸‹ cacheå’Œbuff è¿‡é«˜</a></li>
<li><a href="#7-linux-%E6%B7%BB%E5%8A%A0%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1">7. linux æ·»åŠ å®šæ—¶ä»»åŠ¡</a>
<ul>
<li><a href="#1-%E4%BD%BF%E7%94%A8">1. ä½¿ç”¨</a></li>
<li><a href="#2-%E4%BE%8B%E5%AD%90">2. ä¾‹å­</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
						</div>
						<div id="fullPage"><canvas id="canvas"></canvas></div>
				</article>
				<div id="eof"><span>EOF</span></div>
				<div class="round-shape-one"></div>
				<section>
					<div class="doc_comments">
							<div id="valine-container"></div>
					</div>
				</section>
			</div>
		</div>
	</div>
	<script>
		"use strict";
		! function () {
			for (var n = document.getElementsByTagName("pre"), e = n.length, s = 0; s < e; s++) {
				n[s].innerHTML = '<span class="line-number"></span>' + n[s].innerHTML + '<span class="cl"></span>';
				for (var a = n[s].innerHTML.split(/\n/).length, r = 0; r < a - 1; r++) {
					n[s].getElementsByTagName("span")[0].innerHTML += "<span>" + (r + 1) + "</span>"
				}
			}
		}();
		let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");
		window.addEventListener("scroll", event => {
			let fromTop = window.scrollY;
			mainNavLinks.forEach((link, index) => {
				let section = document.getElementById(decodeURI(link.hash).substring(1));
				let nextSection = null
				if (mainNavLinks[index + 1]) {
					nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(
						1));
				}
				if (section.offsetTop <= fromTop) {
					if (nextSection) {
						if (nextSection.offsetTop > fromTop) {
							link.classList.add("currentToc");
						} else {
							link.classList.remove("currentToc");
						}
					} else {
						link.classList.add("currentToc");
					}
				} else {
					link.classList.remove("currentToc");
				}
			});
		});
		var list = document.querySelectorAll(".katex");
		for (var i = 0; i < list.length; i++) {
			list[i].style.display = "unset"
		};
		var h = document.documentElement,
			b = document.body,
			st = "scrollTop",
			sh = "scrollHeight",
			progress = document.querySelector(".progress"),
			scroll;
		document.addEventListener("scroll", function () {
			scroll = (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100;
			progress.style.setProperty("--scroll", scroll + "%")
		});
		var wxScale = new WxScale({
			fullPage: document.querySelector("#fullPage"),
			canvas: document.querySelector("#canvas")
		});
		var imgBox = document.querySelectorAll("#md_block img");
		for (var i = 0; i < imgBox.length; i++) {
			imgBox[i].onclick = function (e) {
				wxScale.start(this)
			}
		};
	</script>
	<style>
		#magnifyImg {
			position: fixed;
			left: 0;
			top: 0;
			text-align: center;
			width: 100%;
			display: none;
			z-index: 9999
		}

		#magnifyImg img {
			object-fit: contain;
			background: #eaecef;
			padding: 15px;
			border-radius: 10px;
			height: auto;
			width: auto;
			vertical-align: middle
		}
	</style>
	<a id="scrollUp"href="#top"style="position: fixed; z-index: 2147483647; display: block;"></a><div class="footer animated fadeInDown"><div class="site_footer"><div class="mysocials"><div class="my_socials"><a href="https://github.com/Anthony-Dong"title="github"><i class="iconfont icon-github"></i></a><a href="fanhaodong516@gmail.com"title="envelope"><i class="iconfont icon-envelope"></i></a></div></div><div class="copyright"id="copyright">You Are My Everything. <a href="mailto:fanhaodong516@gmail.com" target="blank">Send Email</a>CopyrightÂ©2018-2020<a href="https://anthony-dong.github.io"style="margin:0;">Serence</a>.</div><span style="display: inline;margin-right:15px;">ğŸ‘<strong><span id="count-page">168271</span></strong></span><span id="busuanzi_container_page_pv"style="display: inline;"><span>ğŸ“š<strong>186</strong>posts</span></div></div><script>console.log("\n %c \u26a1Anthony-Dong's Blog:https://anthony-dong.github.io ,Github:https://github.com/Anthony-Dong ,Email:fanhaodong516@gmail.com ,æœ‰äº‹æƒ…æ¬¢è¿è”ç³». \n\n","color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;",);</script>
	<script type="text/javascript" async src="https://anthony-dong.github.io/media/js/prism.js"></script>
</body>
</html>